<<<<<<< HEAD
# ğŸï¸ BrickPHP SUPERCAR â€” "La Supercar du PHP MVC"

> *"Slim vous donne des briques. BrickPHP vous donne la maison."* ğŸ 

---

## ğŸš— **Fiche Technique - Supercar MVC**

| **Marque / ModÃ¨le** | BrickPHP SUPERCAR |
|---------------------|---------------|
| **Type** | Framework MVC LÃ©ger & Moderne |
| **AnnÃ©e** | 2025 |
| **Stack** | PHP 8.1+, Twig 3.22, Alpine.js 3.14, Tailwind CSS 3.4 |
| **Architecture** | MVC Pur avec sÃ©paration claire |
| **SÃ©curitÃ©** | CSRF, XSS, SQL Injection, Sessions SÃ©curisÃ©es |

---

## ğŸ”§ **SpÃ©cifications Techniques**

### **Moteur PHP 8.1+ Turbo**
- âœ… **Enums** pour types complexes
- âœ… **Readonly** pour immutabilitÃ©
- âœ… **Types stricts** partout
- âœ… **Attributs** pour mÃ©tadonnÃ©es

### **Transmission MVC Pure**
- ğŸ—ï¸ **Controller** : Logique mÃ©tier
- ğŸ’¾ **Model** : AccÃ¨s donnÃ©es PDO
- ğŸ¨ **View** : Templates Twig modulaires
- ğŸ”§ **Service** : Logique rÃ©utilisable
- ğŸ› ï¸ **Helper** : Utilitaires globaux

### **BoÃ®te de Vitesses Router AvancÃ©e**
- âš™ï¸ **Middleware intÃ©grÃ©** : Auth, Guest, CSRF
- ğŸ“¦ **Groupes de routes** avec prÃ©fixes
- ğŸ·ï¸ **Routes nommÃ©es** pour gÃ©nÃ©ration URLs
- ğŸ”„ **Conversion automatique** paramÃ¨tres numÃ©riques
- ğŸ“¡ **Support AJAX** avec JSON natif

### **SÃ©curitÃ© de Course**
- ğŸ›¡ï¸ **CSRF automatique** sur tous formulaires
- ğŸš« **Protection XSS** via helper `e()`
- ğŸ”’ **RequÃªtes prÃ©parÃ©es** SQL partout
- ğŸª **Sessions httponly** + samesite

---

## ğŸ“Š **Performances de Supercar**

| **Composant** | **Taille** | **GzippÃ©** | **Commentaire** |
|---------------|------------|------------|-----------------|
| **Core (app.js)** | 6 KB | 2.4 KB | LÃ©ger et rapide |
| **Alpine.js** | 15 KB | 5 KB | RÃ©activitÃ© sans framework lourd |
| **CSS Tailwind** | 36 KB | 6.3 KB | Design system complet |
| **PHP Core** | ~50 KB | - | Framework minimaliste |

### **Vitesse & AgilitÃ©**
- âš¡ **Mobile-First** responsive
- ğŸš€ **Build ultra-rapide** avec Tailwind
- ğŸ¯ **ZÃ©ro dÃ©pendance externe** Ã  tÃ©lÃ©charger
- ğŸƒâ€â™‚ï¸ **DÃ©marrage instantanÃ©** avec Docker

---

## ğŸ† **Ã‰quipements Premium**

### **QualitÃ© de Construction**
- ğŸ¨ **PSR-12** impeccable avec CS-Fixer
- ğŸ” **PHPStan Niveau 8** - ZÃ©ro erreur
- ğŸ§ª **75 tests unitaires** + 131 assertions
- ğŸ§¬ **Mutation Testing MSI 93%**
- ğŸ“ **PHPMD 0 erreur** (rÃ¨gles adaptÃ©es)

### **IntÃ©rieur Confortable**
- ğŸ§© **8+ Composants Twig** rÃ©utilisables
- ğŸ›ï¸ **Alpine.js intÃ©grÃ©** pour interactions
- ğŸ **Toast notifications** built-in
- ğŸ“± **Responsive design** partout
- ğŸ¨ **Dark mode ready** avec Tailwind

### **Technologies de Pointe**
- ğŸ³ **Docker production-ready**
- ğŸ”„ **Hot reload** en dÃ©veloppement
- ğŸ“Š **Metrics intÃ©grÃ©s** (tests, qualitÃ©, perf)
- ğŸ› ï¸ **CLI tools** complets
- ğŸ“š **Documentation bilingue** FR/EN

---

## âš¡ **Options & Accessoires**

### **Pack AJAX Pro**
- ğŸ“¡ JSON responses automatiques
- ğŸ”„ Fetch API intÃ©grÃ©
- âš¡ Real-time updates
- ğŸ›¡ï¸ Error handling intelligent

### **Pack Template Designer**
- ğŸ¨ Layout Twig modulaire
- ğŸ§© Components systÃ¨me (Card, Stat, Input, Modal, Button, Table)
- ğŸ­ Variants Tailwind intÃ©grÃ©s
- ğŸ”§ Helper functions globales

### **Pack Alpine.js Sport**
- ğŸ“¦ Dropdowns, Modals, Tabs
- ğŸ”” Toast notifications
- ğŸ® Form interactions
- ğŸ¯ State management lÃ©ger

---

## ğŸ **Essai sur Circuit - Verdict**

### **"La rÃ©fÃ©rence du MVC lÃ©ger en PHP"**

**Points Forts :**
- âœ… **Fiable pour la prod** - Tests MSI 93%
- âœ… **Rapide Ã  prendre en main** - Setup 5 minutes
- âœ… **ZÃ©ro compromis** - QualitÃ© maximale
- âœ… **Stack cohÃ©rente** - Tout s'emboÃ®te parfaitement
- âœ… **Ã‰volutif** - Architecture propre

**IdÃ©al pour :**
- ğŸš€ **Startups** qui veulent aller vite
- ğŸ¢ **Entreprises** qui veulent de la qualitÃ©
- ğŸ‘¨â€ğŸ’» **DÃ©veloppeurs** qui aiment le PHP moderne
- ğŸ“± **Apps web** responsive et interactives

**Concurrent :** Laravel mais en plus lÃ©ger, Symfony mais plus simple.

---

## ğŸ“ **Prix & Garantie**

- **Prix :** Open Source (MIT License) - GRATUIT
- **Garantie :** Tests complets, communautÃ© active
- **Maintenance :** Mises Ã  jour rÃ©guliÃ¨res
- **Support :** Documentation complÃ¨te + exemples

---

## ğŸ¯ **Conclusion**

**BrickPHP SUPERCAR** n'est pas qu'un framework - c'est **la supercar du dÃ©veloppement PHP** :

- ğŸï¸ **Performante** comme une Ferrari
- ğŸ›¡ï¸ **Fiable** comme une Mercedes
- ğŸ¨ **Ã‰lÃ©gante** comme une Porsche
- ğŸ’° **Accessible** comme une Honda

*"Construisez des maisons, pas des cabanes. Avec des briques solides."* ğŸ§±

---

<p align="center">
  <strong>BrickPHP SUPERCAR</strong> â€” La Supercar du PHP MVC ğŸï¸
</p>

---

## ğŸ“¦ Installation

```bash
# Cloner ou copier le projet
git clone https://github.com/your-username/brickphp.git my-project
cd my-project

# Installer les dÃ©pendances PHP
composer install

# Installer les dÃ©pendances JS
npm install

# Configurer la base de donnÃ©es
cp .env.example .env
# Ã‰diter .env avec vos identifiants de base de donnÃ©es

# Construire les assets
npm run build

# Lancer le serveur de dÃ©veloppement
php -S localhost:8000 -t public
```

### âš¡ DÃ©marrage Rapide (Docker)

```bash
docker compose up -d
# Ouvrir https://mvc.local:8445
```

---

## ğŸ“ Structure du Projet

```
my-project/
â”œâ”€â”€ public/                  # Racine web
â”‚   â”œâ”€â”€ index.php            # Point d'entrÃ©e
â”‚   â””â”€â”€ assets/              # Assets statiques
â”‚       â”œâ”€â”€ js/
â”‚       â””â”€â”€ css/
â”‚
â”œâ”€â”€ resources/               # Assets source
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ app.js           # Point d'entrÃ©e
â”‚   â”‚   â”œâ”€â”€ alpine/          # Composants Alpine.js
â”‚   â”‚   â””â”€â”€ utils.js         # Utilitaires
â”‚   â””â”€â”€ css/
â”‚       â””â”€â”€ app.css          # EntrÃ©e Tailwind
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Config/              # Fichiers de configuration
â”‚   â”œâ”€â”€ Controller/          # Logique mÃ©tier
â”‚   â”œâ”€â”€ Core/                # Noyau du framework (Router)
â”‚   â”œâ”€â”€ Model/               # Couche d'accÃ¨s aux donnÃ©es
â”‚   â”œâ”€â”€ Helper/               # Utilitaires globaux
â”‚   â”œâ”€â”€ Service/             # Services
â”‚   â””â”€â”€ View/                # Templates & composants
â”‚       â”œâ”€â”€ layout.twig      # Layout principal
â”‚       â””â”€â”€ components/      # Composants Twig
â”‚
â”œâ”€â”€ routes/                  # DÃ©finitions des routes
â”œâ”€â”€ tests/                   # Tests PHPUnit
â”œâ”€â”€ tailwind.config.js       # Configuration Tailwind
â””â”€â”€ package.json
```

---

## ğŸ¯ Architecture JavaScript

BrickPHP utilise **Alpine.js** pour les interactions rÃ©actives, gardant les choses simples et lÃ©gÃ¨res.

### Philosophie

| Cas d'Usage | Technologie | Exemple |
|-------------|-------------|---------|
| Interactions simples | Alpine.js | Dropdowns, modals, onglets, formulaires |
| Animations | CSS + JS | Transitions, toasts |

### IntÃ©gration Alpine.js

Les composants sont construits avec les directives Alpine.js :

```html
<!-- Composant Alpine.js -->
<div x-data="{ open: false }">
    <button @click="open = !open">Basculer</button>
    <div x-show="open" x-transition>
        Contenu ici
    </div>
</div>
```

---

## ğŸ¦ Composants Alpine.js

### Dropdown

```html
<div x-data="{ open: false }">
    <button @click="open = !open">Menu</button>
    <div x-show="open" x-transition class="hidden">
        <a href="#">Option 1</a>
        <a href="#">Option 2</a>
    </div>
</div>
```

### Modal

```html
<!-- DÃ©clencheur -->
<button @click="$dispatch('open-modal', { id: 'my-modal' })">Ouvrir Modal</button>

<!-- Modal -->
<div
    x-data="{ open: false }"
    @open-modal.window="if ($event.detail.id === 'my-modal') open = true"
    x-show="open"
    x-transition
    class="hidden"
>
    <div @click="open = false" class="backdrop"></div>
    <div class="modal-content">
        <h2>Titre</h2>
        <p>Contenu...</p>
        <button @click="open = false">Fermer</button>
    </div>
</div>
```

### Onglets

```html
<div x-data="{ activeTab: 'tab1' }">
    <div class="tabs-list">
        <button @click="activeTab = 'tab1'" :class="{ 'active': activeTab === 'tab1' }">Onglet 1</button>
        <button @click="activeTab = 'tab2'" :class="{ 'active': activeTab === 'tab2' }">Onglet 2</button>
    </div>
    <div x-show="activeTab === 'tab1'" x-transition>Contenu 1</div>
    <div x-show="activeTab === 'tab2'" x-transition class="hidden">Contenu 2</div>
</div>
```

### Notifications Toast

```javascript
// Fonction globale disponible partout
window.toast('OpÃ©ration rÃ©ussie !', 'success');
window.toast('Quelque chose s\'est mal passÃ©', 'error');
window.toast('Veuillez patienter...', 'info');
```

---

## ğŸ› ï¸ CrÃ©er des Composants PersonnalisÃ©s

### Composant Alpine.js

```html
<!-- Dans votre template Twig -->
<div x-data="myComponent()">
    <!-- Votre HTML de composant -->
</div>

<script>
function myComponent() {
    return {
        message: 'Bonjour',
        toggle() {
            this.message = this.message === 'Bonjour' ? 'Monde' : 'Bonjour';
        }
    }
}
</script>
```

---

## ğŸ”§ SystÃ¨me de Build

### DÃ©veloppement

```bash
npm run dev      # Surveiller les changements Tailwind CSS
npm run build    # Construire le CSS de production
```

### Sortie

```
public/assets/
â”œâ”€â”€ css/
â”‚   â””â”€â”€ app.css   # CSS Tailwind compilÃ©
â””â”€â”€ js/
    â””â”€â”€ app.js    # Alpine.js et scripts personnalisÃ©s
```

### Helper Twig

```twig
<!-- Dans layout.twig -->
<link rel="stylesheet" href="{{ asset('css/app.css') }}">
<script src="{{ asset('js/app.js') }}" defer></script>
```

---

## ğŸ§© Composants Twig

```twig
{# Cartes & Layout #}
{{ include('components/card.twig', {title: 'Ma Carte'}) }}
{{ include('components/stat.twig', {label: 'Utilisateurs', value: '1,234'}) }}

{# Formulaires #}
{{ include('components/input.twig', {name: 'email', label: 'Email'}) }}
{{ include('components/button.twig', {text: 'Soumettre', variant: 'success'}) }}

{# Retours #}
{{ include('components/alert.twig', {message: 'SuccÃ¨s !', type: 'success'}) }}
{{ include('components/modal.twig', {id: 'confirm', title: 'Confirmer'}) }}
```

### Composants Disponibles

| Composant | Description |
|-----------|-------------|
| `stat` | Carte de statistique du tableau de bord |
| `card` | Carte gÃ©nÃ©rique avec en-tÃªte/pied |
| `button` | Bouton avec variantes |
| `badge` | Badge/Ã©tiquette colorÃ© |
| `alert` | Message d'alerte (auto-dismiss) |
| `input` | Champ de saisie de formulaire |
| `table` | Table de donnÃ©es |
| `modal` | BoÃ®te de dialogue modale |

---

## ğŸ›£ï¸ Routage

### DÃ©finir les Routes

```php
<?php
// routes/web.php
use App\Controller\HomeController;
use App\Controller\UserController;

$router->get('/', [HomeController::class, 'index'], 'home');
$router->get('/users', [UserController::class, 'index'], 'users.index');
$router->get('/users/{id}', [UserController::class, 'show'], 'users.show');
$router->post('/users', [UserController::class, 'store'], 'users.store');

// Groupes de routes avec middleware
$router->group(['middleware' => ['auth']], function($router) {
    $router->get('/dashboard', [DashboardController::class, 'index']);
    $router->get('/profile', [ProfileController::class, 'show']);
});
```

### GÃ©nÃ©rer les URLs

```php
// En PHP
$url = url('users.show', ['id' => 123]); // /users/123

// Dans les templates
<a href="<?= url('home') ?>">Accueil</a>
```

---

## ğŸ›¡ï¸ SÃ©curitÃ©

- **Protection CSRF** - Validation automatique des tokens
- **PrÃ©vention XSS** - Ã‰chappement HTML avec `e()`
- **Injection SQL** - RequÃªtes prÃ©parÃ©es partout
- **SÃ©curitÃ© des Sessions** - Cookies httponly, samesite

### CSRF dans les Formulaires

```php
<form method="POST">
    <?php csrf(); ?>
    <!-- champs -->
</form>
```

### CSRF en AJAX

```javascript
fetch('/api/users', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'X-CSRF-Token': document.querySelector('meta[name="csrf-token"]').content
    },
    body: JSON.stringify(data)
});
```

---

## ğŸ”§ Outils de DÃ©veloppement

```bash
# VÃ©rifications QualitÃ© (Tout-en-Un)
composer check:all     # CS-Fixer + PHPStan + PHPMD + PHPUnit (âœ… 0 erreurs)

# Commandes Individuelles
composer test          # Tests PHPUnit (75 tests, 131 assertions)
composer phpstan       # Analyse statique (Niveau 8 âœ… 0 erreurs)
composer cs-check      # VÃ©rifier le style de code (PSR-12)
composer cs-fix        # Corriger automatiquement le style de code
composer phpmd         # DÃ©tecteur de problÃ¨mes (0 erreurs)
composer infection     # Tests de mutation (MSI 93%)
composer quality       # Correction auto + toutes les vÃ©rifications

# JavaScript
npm run build          # Construire le CSS de production
npm run dev            # Surveiller les changements CSS
```

### MÃ©triques de QualitÃ©

| Outil | Score | Statut |
|-------|-------|--------|
| **PHPStan** | Niveau 8 | âœ… 0 erreurs |
| **PHPUnit** | 75 tests | âœ… 131 assertions |
| **CS-Fixer** | PSR-12 | âœ… 0 violations |
| **PHPMD** | 81 rÃ¨gles | âœ… 0 erreurs |
| **Infection** | MSI 93% | âœ… 139/148 tuÃ©es |
| **Couverture** | 100% | âœ… Tout le code testÃ© |

### Accomplissement QualitÃ©

- ğŸ† **PHPStan Niveau 8** - SÃ©curitÃ© de type maximale avec rÃ¨gles strictes
- ğŸ§ª **Tests de Mutation** - 93% MSI (148 mutations, 139 tuÃ©es)
- ğŸ“ **Style de Code** - Conforme PSR-12 via PHP-CS-Fixer
- ğŸ” **DÃ©tection de ProblÃ¨mes** - 0 avertissements avec jeu de rÃ¨gles personnalisÃ©
- âœ… **100% Couverture de Tests** - Tout le code source couvert par les tests

---

## ğŸ“Š Performance

### Pile LÃ©ger

Alpine.js fournit la rÃ©activitÃ© sans la surcharge d'un framework complet.

### Taille du Bundle

| Bundle | Taille | CompressÃ© |
|--------|--------|-----------|
| Core (app.js) | 6 KB | 2.4 KB |
| Alpine.js | 15 KB | 5 KB |
| CSS | 36 KB | 6.3 KB |

---

## ğŸ³ Docker

```yaml
# docker-compose.yml
services:
  php:
    build:
      context: .
      dockerfile: docker/Dockerfile
    container_name: brickphp_php
    restart: unless-stopped
    volumes:
      - .:/var/www/html
    networks:
      - brickphp_internal
    deploy:
      resources:
        limits:
          memory: 1G
        reservations:
          memory: 256M
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  web:
    image: nginx:alpine
    container_name: brickphp_web
    restart: unless-stopped
    ports:
      - "8085:80"
      - "8446:443"
    volumes:
      - ./docker/nginx.conf:/etc/nginx/nginx.conf
```

```bash
docker compose up -d
# Ouvrir https://mvc.local:8445
```

---

## ğŸ“ Patterns Alpine.js

Patterns Alpine.js courants dans BrickPHP :

| Pattern | Exemple |
|---------|---------|
| `x-data` | `<div x-data="{ open: false }">` |
| `x-show` | `<div x-show="open" x-transition>` |
| `@click` | `<button @click="open = !open">` |
| `x-model` | `<input x-model="value">` |

---

## ğŸ¯ RÃ©fÃ©rence Rapide

### Emplacements des Fichiers

| Quoi | OÃ¹ |
|------|----|
| Routes | `routes/web.php` |
| ContrÃ´leurs | `src/Controller/` |
| Vues | `src/View/` |
| Alpine.js | `resources/js/alpine/` |
| CSS | `resources/css/app.css` |

### Commandes

```bash
# DÃ©veloppement
npm run dev          # Surveiller les changements CSS
npm run build        # Construire le CSS de production

# Tests & QualitÃ©
composer test        # PHPUnit (75 tests âœ…)
composer phpstan     # Analyse statique (Niveau 8 âœ…)
composer cs-fix      # Correction automatique du style
composer phpmd       # DÃ©tecter les mauvaises odeurs
composer check       # Lancer toutes les vÃ©rifications qualitÃ©
```

---

## ğŸ† Accomplissement QualitÃ©

BrickPHP a obtenu la certification **PHPStan Niveau 8** - le plus haut niveau d'analyse statique disponible :

- âœ… **ZÃ©ro erreur** Ã  la rigueur maximale
- âœ… **Couverture de type complÃ¨te** sur toutes les mÃ©thodes
- âœ… **SÃ©curitÃ© null** garantie via assertions
- âœ… **75 tests unitaires** avec taux de rÃ©ussite 100%
- âœ… **Code prÃªt pour la production** qualitÃ©

```bash
# VÃ©rifiez vous-mÃªme
docker exec brickphp_php vendor/bin/phpstan analyse --memory-limit=1G
# [OK] No errors
```

---

## ğŸ“„ Licence

BrickPHP est un logiciel open-source sous licence [MIT](LICENSE).

---

<p align="center">
  <strong>BrickPHP SUPERCAR</strong> â€” Twig + Alpine.js + Tailwind ğŸ§±
</p>

---

## âœ¨ Features

- ğŸš€ **PHP 8.1+** with modern features (enums, readonly, strict types)
- ğŸ›¡ï¸ **PHPStan Level 8** - Maximum type safety, zero errors
- âœ… **PHPUnit 10.5** - 12 unit tests, 100% passing
- ğŸŒ€ **Twig 3.14** for powerful templating
- ğŸ¦ **Alpine.js** for reactive interactions (dropdowns, modals, tabs)
- ğŸ¨ **Tailwind CSS 3.4** with simple build system
- ğŸ›¡ï¸ **Built-in Security** (CSRF, XSS prevention, SQL injection protection)
- ğŸ”§ **Developer Tools** (PHPStan Level 8, PHPUnit, CS-Fixer, PHPMD)
- ğŸ“± **Mobile-First** responsive design
- âš¡ **AJAX Support** with JSON responses
- ğŸ—ï¸ **MVC Architecture** with clean separation
- ğŸ›£ï¸ **Advanced Router** (RESTful, middleware, named routes, groups)
- ğŸ” **Authentication System** ready to use
- ğŸ§© **Reusable Components** (8+ Twig components)

---

## ğŸ“¦ Installation

```bash
# Clone or copy the project
git clone https://github.com/your-username/brickphp.git my-project
cd my-project

# Install PHP dependencies
composer install

# Install JS dependencies
npm install

# Setup database
cp .env.example .env
# Edit .env with your database credentials

# Build assets
npm run build

# Run development server
php -S localhost:8000 -t public
```

### âš¡ Quick Start (Docker)

```bash
docker compose up -d
# Open https://mvc.local:8445
```

---

## ğŸ“ Project Structure

```
my-project/
â”œâ”€â”€ public/                  # Web root
â”‚   â”œâ”€â”€ index.php            # Entry point
â”‚   â””â”€â”€ assets/              # Static assets
â”‚       â”œâ”€â”€ js/
â”‚       â””â”€â”€ css/
â”‚
â”œâ”€â”€ resources/               # Source assets
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ app.js           # Entry point
â”‚   â”‚   â”œâ”€â”€ alpine/          # Alpine.js components
â”‚   â”‚   â””â”€â”€ utils.js         # Utilities
â”‚   â””â”€â”€ css/
â”‚       â””â”€â”€ app.css          # Tailwind entry
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Config/              # Configuration files
â”‚   â”œâ”€â”€ Controller/          # Business logic
â”‚   â”œâ”€â”€ Core/                # Framework core (Router)
â”‚   â”œâ”€â”€ Model/               # Data access layer
â”‚   â”œâ”€â”€ Helper/               # Global utilities
â”‚   â”œâ”€â”€ Service/             # Services
â”‚   â””â”€â”€ View/                # Templates & components
â”‚       â”œâ”€â”€ layout.twig      # Main layout
â”‚       â””â”€â”€ components/      # Twig components
â”‚
â”œâ”€â”€ routes/                  # Route definitions
â”œâ”€â”€ tests/                   # PHPUnit tests
â”œâ”€â”€ tailwind.config.js       # Tailwind configuration
â””â”€â”€ package.json
```

---

## ğŸ¯ JavaScript Architecture

BrickPHP uses **Alpine.js** for reactive interactions, keeping things simple and lightweight.

### Philosophy

| Use Case | Technology | Example |
|----------|------------|---------|
| Simple interactions | Alpine.js | Dropdowns, modals, tabs, forms |
| Animations | CSS + JS | Transitions, toasts |

### Alpine.js Integration

Components are built with Alpine.js directives:

```html
<!-- Alpine.js component -->
<div x-data="{ open: false }">
    <button @click="open = !open">Toggle</button>
    <div x-show="open" x-transition>
        Content here
    </div>
</div>
```

---

## ğŸ¦ Alpine.js Components

### Dropdown

```html
<div x-data="{ open: false }">
    <button @click="open = !open">Menu</button>
    <div x-show="open" x-transition class="hidden">
        <a href="#">Option 1</a>
        <a href="#">Option 2</a>
    </div>
</div>
```

### Modal

```html
<!-- Trigger -->
<button @click="$dispatch('open-modal', { id: 'my-modal' })">Open Modal</button>

<!-- Modal -->
<div 
    x-data="{ open: false }" 
    @open-modal.window="if ($event.detail.id === 'my-modal') open = true"
    x-show="open" 
    x-transition
    class="hidden"
>
    <div @click="open = false" class="backdrop"></div>
    <div class="modal-content">
        <h2>Title</h2>
        <p>Content...</p>
        <button @click="open = false">Close</button>
    </div>
</div>
```

### Tabs

```html
<div x-data="{ activeTab: 'tab1' }">
    <div class="tabs-list">
        <button @click="activeTab = 'tab1'" :class="{ 'active': activeTab === 'tab1' }">Tab 1</button>
        <button @click="activeTab = 'tab2'" :class="{ 'active': activeTab === 'tab2' }">Tab 2</button>
    </div>
    <div x-show="activeTab === 'tab1'" x-transition>Content 1</div>
    <div x-show="activeTab === 'tab2'" x-transition class="hidden">Content 2</div>
</div>
```

### Toast Notifications

```javascript
// Global function available everywhere
window.toast('Operation successful!', 'success');
window.toast('Something went wrong', 'error');
window.toast('Please wait...', 'info');
```

---

## ğŸ› ï¸ Creating Custom Components

### Alpine.js Component

```html
<!-- In your Twig template -->
<div x-data="myComponent()">
    <!-- Your component HTML -->
</div>

<script>
function myComponent() {
    return {
        message: 'Hello',
        toggle() {
            this.message = this.message === 'Hello' ? 'World' : 'Hello';
        }
    }
}
</script>
```

---

## ğŸ”§ Build System

### Development

```bash
npm run dev      # Watch Tailwind CSS changes
npm run build    # Build production CSS
```

### Output

```
public/assets/
â”œâ”€â”€ css/
â”‚   â””â”€â”€ app.css   # Compiled Tailwind CSS
â””â”€â”€ js/
    â””â”€â”€ app.js    # Alpine.js and custom scripts
```

### Twig Helper

```twig
<!-- In layout.twig -->
<link rel="stylesheet" href="{{ asset('css/app.css') }}">
<script src="{{ asset('js/app.js') }}" defer></script>
```

---

## ğŸ§© Twig Components

```twig
{# Cards & Layout #}
{{ include('components/card.twig', {title: 'My Card'}) }}
{{ include('components/stat.twig', {label: 'Users', value: '1,234'}) }}

{# Forms #}
{{ include('components/input.twig', {name: 'email', label: 'Email'}) }}
{{ include('components/button.twig', {text: 'Submit', variant: 'success'}) }}

{# Feedback #}
{{ include('components/alert.twig', {message: 'Success!', type: 'success'}) }}
{{ include('components/modal.twig', {id: 'confirm', title: 'Confirm'}) }}
```

### Available Components

| Component | Description |
|-----------|-------------|
| `stat` | Dashboard stat card |
| `card` | Generic card with header/footer |
| `button` | Button with variants |
| `badge` | Colored badge/tag |
| `alert` | Alert message (auto-dismiss) |
| `input` | Form input field |
| `table` | Data table |
| `modal` | Modal dialog |

---

## ğŸ›£ï¸ Routing

### Define Routes

```php
<?php
// routes/web.php
use App\Controller\HomeController;
use App\Controller\UserController;

$router->get('/', [HomeController::class, 'index'], 'home');
$router->get('/users', [UserController::class, 'index'], 'users.index');
$router->get('/users/{id}', [UserController::class, 'show'], 'users.show');
$router->post('/users', [UserController::class, 'store'], 'users.store');

// Route groups with middleware
$router->group(['middleware' => ['auth']], function($router) {
    $router->get('/dashboard', [DashboardController::class, 'index']);
    $router->get('/profile', [ProfileController::class, 'show']);
});
```

### Generate URLs

```php
// In PHP
$url = url('users.show', ['id' => 123]); // /users/123

// In templates
<a href="<?= url('home') ?>">Home</a>
```

---

## ğŸ›¡ï¸ Security

- **CSRF Protection** - Automatic token validation
- **XSS Prevention** - HTML escaping with `e()` helper
- **SQL Injection** - Prepared statements everywhere
- **Session Security** - httponly, samesite cookies

### CSRF in Forms

```php
<form method="POST">
    <?php csrf(); ?>
    <!-- fields -->
</form>
```

### CSRF in AJAX

```javascript
fetch('/api/users', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'X-CSRF-Token': document.querySelector('meta[name="csrf-token"]').content
    },
    body: JSON.stringify(data)
});
```

---

## ğŸ”§ Development Tools

```bash
# Quality Checks (All-in-One)
composer check:all     # CS-Fixer + PHPStan + PHPMD + PHPUnit (âœ… 0 errors)

# Individual Commands
composer test          # PHPUnit tests (75 tests, 131 assertions)
composer phpstan       # Static analysis (Level 8 âœ… 0 errors)
composer cs-check      # Check code style (PSR-12)
composer cs-fix        # Auto-fix code style
composer phpmd         # Mess Detector (0 errors) (85 errors ignored false positive, exit, superglobals ect)
composer infection     # Mutation testing (MSI 93%)
composer quality       # Auto-fix + all checks

# JavaScript
npm run build          # Build production CSS
npm run dev            # Watch CSS changes
```

### Quality Metrics

| Tool | Score | Status |
|------|-------|--------|
| **PHPStan** | Level 8 | âœ… 0 errors |
| **PHPUnit** | 75 tests | âœ… 131 assertions |
| **CS-Fixer** | PSR-12 | âœ… 0 violations |
| **PHPMD** | 81 rules | âœ… 0 errors |
| **Infection** | MSI 93% | âœ… 139/148 killed |
| **Coverage** | 100% | âœ… All code tested |

### Quality Achievement

- ğŸ† **PHPStan Level 8** - Maximum type safety with strict rules
- ğŸ§ª **Mutation Testing** - 93% MSI (148 mutations, 139 killed)
- ğŸ“ **Code Style** - PSR-12 compliant via PHP-CS-Fixer
- ğŸ” **Mess Detection** - 0 warnings with custom ruleset for web frameworks
- âœ… **100% Test Coverage** - All source code covered by tests

---

## ğŸ“Š Performance

### Lightweight Stack

Alpine.js provides reactivity without the overhead of a full framework.

### Bundle Size

| Bundle | Size | Gzipped |
|--------|------|---------|
| Core (app.js) | 6 KB | 2.4 KB |
| Alpine.js | 15 KB | 5 KB |
| CSS | 36 KB | 6.3 KB |

---

## ğŸ³ Docker

```yaml
# docker-compose.yml
services:
  php:
    build: ./docker
    volumes:
      - .:/var/www/html
  
  web:
    image: nginx:alpine
    ports:
      - "8445:443"
    volumes:
      - ./docker/nginx.conf:/etc/nginx/nginx.conf
```

```bash
docker compose up -d
# Open https://mvc.local:8445
```

---

## ğŸ“ Alpine.js Patterns

Common Alpine.js patterns in BrickPHP:

| Pattern | Example |
|---------|---------|
| `x-data` | `<div x-data="{ open: false }">` |
| `x-show` | `<div x-show="open" x-transition>` |
| `@click` | `<button @click="open = !open">` |
| `x-model` | `<input x-model="value">` |

---

## ğŸ¯ Quick Reference

### File Locations

| What | Where |
|------|-------|
| Routes | `routes/web.php` |
| Controllers | `src/Controller/` |
| Views | `src/View/` |
| Alpine.js | `resources/js/alpine/` |
| CSS | `resources/css/app.css` |

### Commands

```bash
# Development
npm run dev          # Watch CSS changes
npm run build        # Build production CSS

# Testing & Quality
composer test        # PHPUnit (12 tests âœ…)
composer phpstan     # Static analysis (Level 8 âœ…)
composer cs-fix      # Auto-fix code style
composer phpmd       # Detect code smells
composer check       # Run all quality checks
```

---

## ğŸ† Quality Achievement

BrickPHP has achieved **PHPStan Level 8** certification - the highest level of static analysis available:

- âœ… **Zero errors** at maximum strictness
- âœ… **Full type coverage** on all methods
- âœ… **Null safety** guaranteed via assertions
- âœ… **12 unit tests** with 100% pass rate
- âœ… **Production-ready** code quality

```bash
# Verify yourself
docker exec brickphp_php vendor/bin/phpstan analyse --memory-limit=1G
# [OK] No errors
```

---

## ğŸ“„ License

BrickPHP is open-sourced software licensed under the [MIT license](LICENSE).

---

<p align="center">
  <strong>BrickPHP SUPERCAR</strong> â€” Twig + Alpine.js + Tailwind ğŸ§±
</p>
=======
# brickphp
ğŸï¸ BrickPHP SUPERCAR - Lightweight MVC Framework for PHP 8.1+ 
>>>>>>> ac89ba4533530ff453e52c387e7caf116fc00f31
